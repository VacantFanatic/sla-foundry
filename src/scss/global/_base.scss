/**
 * Global Base Styles
 * Uses mixins and variables for consistency
 */

@import '../utils/mixins';
@import '../utils/variables';

/* ==========================================
   0. FONTS
   ========================================== */
@import url('https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@400;600;700&display=swap');

/* ==========================================
   1. WINDOW STYLES
   ========================================== */
.sla-industries.sheet.actor .window-content,
.sla-industries.sheet.item .window-content {
    background-image: none;
    background: var(--sla-bg-dark);
    background-color: var(--sla-bg-dark);
    color: var(--sla-text-light);
    @include font-body;
    padding: 0;
    overflow: hidden;
    border: $border-width-thick solid var(--sla-border);
}

/* FORM LAYOUT */
form.sla-sheet {
    height: 100%;
    @include flex-column;
    overflow: hidden;
    background: transparent;
    padding: $padding-sm;
}

/* UTILITIES */
.sla-pad {
    padding: 8px;
}

/* ==========================================
   2. INPUTS (Global High Contrast)
   ========================================== */
.sla-sheet input[type="text"],
.sla-sheet input[type="number"],
.sla-sheet select {
    @include input-base;
}

/* ==========================================
   3. DROPDOWN CONTRAST FIX
   ========================================== */
.sla-industries select,
.sla-sheet select,
.sla-industries.sheet select,
.sla-sheet.sheet select {
    background-color: #222;
    color: #fff;
    border: $border-width solid #444;

    option {
        background-color: #222;
        color: #fff;
    }
}

/* ==========================================
   4. PAUSE ANIMATION
   ========================================== */
#pause {
    background: rgba(0, 0, 0, 0.7);
    border-radius: 10px;
    padding: $padding-md;
    border: $border-width solid var(--sla-border);

    figcaption {
        @include font-header;
        font-size: 2em;
        letter-spacing: 2px;
        animation: slaRedPulse 2s infinite ease-in-out;
    }
}

/* ==========================================
   5. FOUNDRY CORE UI PROTECTION
   ========================================== */
/* Ensure Foundry's core UI elements remain functional */
#sidebar,
#hotbar,
#navigation,
#players,
#controls {
    pointer-events: auto !important;
}

/* Ensure parent containers don't block Foundry UI */
body > section.flexrow,
body > aside {
    pointer-events: auto !important;
}

/* Ensure Foundry's sidebar and hotbar children are clickable */
#sidebar *,
#hotbar *,
#navigation * {
    pointer-events: auto !important;
}

@keyframes slaRedPulse {
    0% {
        color: #aaa;
        text-shadow: 0 0 2px #300;
        transform: scale(1);
    }

    50% {
        color: #f00;
        text-shadow: 0 0 15px #f00;
        transform: scale(1.1);
    }

    100% {
        color: #aaa;
        text-shadow: 0 0 2px #300;
        transform: scale(1);
    }
}

@keyframes slaIconPulse {
    0%,
    100% {
        filter: drop-shadow(0 0 0px #000);
        opacity: 0.7;
    }

    50% {
        filter: drop-shadow(0 0 10px rgba(255, 0, 0, 0.8));
        opacity: 1;
    }
}
