<div class="form-group"><label>Dmg</label><input type="text" name="system.damage" value="{{system.damage}}"/></div>
<div class="form-group"><label>Min</label><input type="text" name="system.minDamage" value="{{system.minDamage}}"/></div>
<div class="form-group"><label>AD</label><input type="number" name="system.ad" value="{{system.ad}}"/></div>
<div class="form-group"><label>Range</label><input type="text" name="system.range" value="{{system.range}}"/></div>

{{!-- Skill Drop Zone --}}
<div class="form-group" style="grid-column: 1 / -1;">
    <label>Required Skill</label>
    <div class="drop-zone skill-link" style="border: 2px dashed #999; padding: 5px; display: flex; align-items: center; justify-content: center; background: rgba(0,0,0,0.05); cursor: pointer; min-height: 30px;">
        {{#if system.skill}}
            <span style="font-weight:bold; color:#222; font-size:1.1em; margin-right: 10px;">{{system.skill}}</span>
            <a class="remove-skill-link" title="Unlink Skill" style="color:#d00;"><i class="fas fa-times"></i></a>
        {{else}}
            <span style="font-style:italic; color:#777;">Drop Skill Item Here</span>
        {{/if}}
    </div>
</div>

{{!-- NEW FIRING MODES BLOCK (Replaces old ROF/Recoil text fields) --}}
<div class="sla-panel" style="grid-column: 1 / -1; margin-top: 10px;">
    <div class="sla-header-bar">Firing Modes & Recoil</div>
    
    <div class="firing-mode-grid header">
        <div class="col-active">Enable</div>
        <div class="col-name">Mode</div>
        <div class="col-stat">Rounds</div>
        <div class="col-stat">Recoil</div>
    </div>

    {{#each system.firingModes as |mode key|}}
    <div class="firing-mode-row {{#if mode.active}}enabled{{/if}}">
        <div class="col-active">
            <input type="checkbox" name="system.firingModes.{{key}}.active" {{checked mode.active}}>
        </div>
        <div class="col-name">{{mode.label}}</div>
        <div class="col-stat">
            <input type="number" name="system.firingModes.{{key}}.rounds" value="{{mode.rounds}}" placeholder="-">
        </div>
        <div class="col-stat">
            <input type="number" name="system.firingModes.{{key}}.recoil" value="{{mode.recoil}}" placeholder="0">
        </div>
    </div>
    {{/each}}
</div>